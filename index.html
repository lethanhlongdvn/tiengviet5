<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduRobot - Ti·∫øng Vi·ªát L·ªõp 5 Online</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800;900&family=Merriweather:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <style>
        :root {
            --primary: #2563eb;
            --primary-light: #eff6ff;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #e0faff 0%, #ffffff 50%, #fffbe6 100%);
            /* Brighter cyan-white-yellow mix */
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .glass-header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.5);
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 20px;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="w-full z-50 glass-header shadow-sm transition-all duration-300 flex-none" id="navbar">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-3 group">
                <div
                    class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg shadow-blue-200 group-hover:scale-110 transition-transform">
                    E</div>
                <div class="flex flex-col">
                    <span class="text-xl font-black text-gray-800 leading-none">EduRobot</span>
                    <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Ti·∫øng Vi·ªát L·ªõp 5</span>
                </div>
            </a>

            <div class="flex items-center gap-4">
                <a href="index.html"
                    class="hidden md:block px-4 py-2 rounded-xl text-sm font-bold text-blue-600 bg-blue-50 hover:bg-blue-100 transition-colors">Trang
                    ch·ªß</a>
                <div class="relative group" id="top-menu-lesson-container">
                    <button id="top-menu-lesson-btn"
                        class="flex items-center gap-1 px-4 py-2 rounded-xl text-sm font-bold text-gray-500 hover:text-gray-800 hover:bg-gray-50 transition-colors">
                        B√†i h·ªçc
                        <svg id="top-menu-chevron" class="w-4 h-4 transition-transform duration-300" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                            </path>
                        </svg>
                    </button>
                    <!-- Dropdown Content (Populated by JS) -->
                    <div id="top-menu-lessons-dropdown"
                        class="hidden absolute top-full right-0 mt-2 w-80 bg-white rounded-2xl shadow-xl border border-gray-100 p-2 max-h-[80vh] overflow-y-auto custom-scrollbar z-[60]">
                    </div>
                </div>
                <button onclick="openTeacherStats()"
                    class="px-4 py-2 rounded-xl text-sm font-bold text-gray-500 hover:text-gray-800 hover:bg-gray-50 transition-colors">Gi√°o
                    vi√™n</button>
                <button
                    class="bg-orange-500 hover:bg-orange-600 text-white font-black px-5 py-2.5 rounded-xl shadow-lg shadow-orange-200 transition-all active:scale-95 text-xs uppercase tracking-wider">Li√™n
                    h·ªá</button>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-4 flex-1 min-h-0">

        <!-- Main Content Area: Hero + Features Sidebar -->
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4 h-full">
            <!-- Hero Section (Left - 75%) -->
            <div class="lg:col-span-3 h-full">
                <section
                    class="relative rounded-[32px] overflow-hidden bg-white/80 backdrop-blur-md shadow-2xl shadow-blue-200/50 p-6 md:p-8 h-full flex flex-col justify-center border border-white/50">
                    <div
                        class="absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-bl from-blue-100 to-purple-100 rounded-full blur-3xl opacity-50 -translate-y-1/2 translate-x-1/3">
                    </div>

                    <div class="flex flex-col md:flex-row items-center relative z-10 h-full">
                        <div class="md:w-1/2 text-center md:text-left mb-4 md:mb-0">
                            <span
                                class="inline-block bg-blue-50 text-blue-600 text-[10px] font-black px-3 py-1 rounded-full uppercase tracking-widest mb-2 border border-blue-100">Phi√™n
                                b·∫£n 2026</span>
                            <h1 class="text-3xl md:text-5xl font-black text-gray-900 mb-4 leading-tight">
                                H·ªçc <br>
                                <span
                                    class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-yellow-500 drop-shadow-sm">Ti·∫øng
                                    Vi·ªát</span> <br>
                                <span class="text-blue-600 drop-shadow-sm">Th·∫≠t D·ªÖ D√†ng</span>
                            </h1>
                            <p
                                class="text-sm md:text-base text-gray-500 font-medium mb-6 leading-relaxed max-w-sm mx-auto md:mx-0">
                                Kh√°m ph√° kho t√†ng ki·∫øn th·ª©c phong ph√∫, b√†i gi·∫£ng t∆∞∆°ng t√°c v√† tr√≤ ch∆°i th√∫ v·ªã gi√∫p em
                                gi·ªèi Ti·∫øng
                                Vi·ªát m·ªói ng√†y!
                            </p>
                            <div class="flex flex-col sm:flex-row gap-3 justify-center md:justify-start">
                                <button onclick="openThemeModal()"
                                    class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-black text-base py-3 px-6 rounded-xl shadow-lg shadow-blue-300/50 transition-all transform hover:-translate-y-1 hover:shadow-xl">
                                    GAME
                                </button>
                                <button onclick="openReviewModal()"
                                    class="bg-white hover:bg-blue-50 text-blue-600 font-black text-base py-3 px-6 rounded-xl border-2 border-blue-600 shadow-sm transition-all hover:scale-105 hover:shadow-md">
                                    √îN T·∫¨P
                                </button>
                            </div>
                        </div>
                        <div class="md:w-1/2 relative flex justify-center items-center">
                            <img src="hinh_anh/illustration_hero.png" alt="H·ªçc Ti·∫øng Vi·ªát"
                                class="w-auto h-auto max-h-[350px] drop-shadow-2xl hover:scale-105 transition-transform duration-500 object-contain rounded-3xl">

                            <!-- Floating Badge -->
                            <div class="absolute -bottom-2 -left-2 bg-white p-3 rounded-xl shadow-lg flex items-center gap-2 animate-bounce"
                                style="animation-duration: 3s;">
                                <div
                                    class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-600">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                            d="M5 13l4 4L19 7"></path>
                                    </svg>
                                </div>
                                <div>
                                    <p class="text-[8px] text-gray-400 font-black uppercase">ƒê√£ ho√†n th√†nh</p>
                                    <p class="text-xs font-black text-gray-800">100+ B√†i h·ªçc</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Features Sidebar (Right - 25%) - REPLACED WITH NUMPAD GRID -->
            <div
                class="lg:col-span-1 bg-white/40 backdrop-blur-md rounded-[32px] p-4 border border-white/50 shadow-xl flex flex-col h-full">
                <div class="mb-3 text-center">
                    <h3 class="text-sm font-black text-gray-800 uppercase tracking-wider">Tu·∫ßn h·ªçc nhanh</h3>
                </div>
                <!-- Number Pad Grid - Changed to 6 columns and more compact -->
                <div class="grid grid-cols-6 gap-1.5 flex-1 overflow-y-auto custom-scrollbar pr-1"
                    id="week-numpad-grid">
                    <!-- Buttons will be generated by JS -->
                </div>
            </div>
        </div>

        <!-- Grade Review Section -->
        <!-- Grade Review Section Link Removed -->

    </main>

    <!-- Footer -->
    <footer class="py-3 px-4 bg-white/30 backdrop-blur-md border-t border-white/50 w-full z-10 flex-none">
        <div class="container mx-auto text-center">
            <p class="text-[10px] font-black text-gray-400 uppercase tracking-[0.3em] mb-2">@ 2026 EduRobot - H·ªá th·ªëng
                h·ªçc t·∫≠p th√¥ng minh</p>
            <p class="text-xs font-bold text-blue-600 flex items-center justify-center">
                Ph√°t tri·ªÉn b·ªüi L√™ Th√†nh Long
            </p>
        </div>
    </footer>

    <!-- Stats Modal (Placeholder/Consistent for Teacher view) -->
    <div id="statsModal"
        class="fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] hidden items-center justify-center p-4">
        <!-- Content would go here, identical to lesson pages -->
        <div class="bg-white rounded-[32px] p-8 max-w-md w-full text-center shadow-2xl">
            <h3 class="text-2xl font-black text-gray-800 mb-2">Th√¥ng b√°o</h3>
            <p class="text-gray-500 mb-6">T√≠nh nƒÉng xem b√°o c√°o chi ti·∫øt kh·∫£ d·ª•ng trong t·ª´ng b√†i h·ªçc.</p>
            <button
                onclick="document.getElementById('statsModal').classList.remove('flex'); document.getElementById('statsModal').classList.add('hidden');"
                class="bg-blue-600 text-white font-bold py-3 px-8 rounded-xl">ƒê√≥ng</button>
        </div>
    </div>

    <!-- News Modal (RSS Feed) -->
    <div id="newsModal"
        class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] hidden items-center justify-center p-4 transition-opacity duration-300 opacity-0 pointer-events-none">
        <div class="bg-white rounded-[24px] overflow-hidden max-w-lg w-full shadow-2xl transform scale-95 transition-all duration-300"
            id="newsModalContent">
            <!-- Header -->
            <div class="bg-gradient-to-r from-green-500 to-emerald-600 p-5 flex items-center justify-between">
                <h3 class="text-lg font-black text-white flex items-center">
                    <span class="mr-2 text-2xl">üì∞</span> Tin T·ª©c Gi√°o D·ª•c
                </h3>
                <button onclick="closeNewsModal()"
                    class="text-white/80 hover:text-white bg-white/20 hover:bg-white/30 rounded-full w-8 h-8 flex items-center justify-center transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>

            <!-- Body -->
            <div class="p-0 bg-slate-50 max-h-[60vh] overflow-y-auto custom-scrollbar">
                <div id="rss-feed-list" class="divide-y divide-gray-100">
                    <!-- Loading State -->
                    <div class="text-center py-10 text-gray-400">
                        <svg class="animate-spin h-8 w-8 mx-auto mb-3 text-green-500" xmlns="http://www.w3.org/2000/svg"
                            fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4">
                            </circle>
                            <path class="opacity-75" fill="currentColor"
                                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                            </path>
                        </svg>
                        <p class="text-xs font-bold uppercase tracking-wider">ƒêang c·∫≠p nh·∫≠t tin...</p>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="p-4 bg-white border-t border-gray-100 flex justify-between items-center bg-gray-50">
                <span class="text-[10px] font-bold text-gray-400 uppercase">Ngu·ªìn: B√°o Thanh Ni√™n</span>
                <div class="flex space-x-2">
                    <button onclick="closeNewsModal()"
                        class="text-xs font-bold text-gray-500 hover:text-gray-800 px-4 py-2 transition-colors">ƒê√≥ng</button>
                    <a href="https://thanhnien.vn/giao-duc/" target="_blank"
                        class="bg-green-100 hover:bg-green-200 text-green-700 text-xs font-bold px-4 py-2 rounded-lg transition-colors flex items-center">
                        Xem t·∫•t c·∫£ <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Theme Selection Modal -->
    <div id="themeModal"
        class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] hidden items-center justify-center p-4 transition-opacity duration-300 opacity-0 pointer-events-none">
        <div class="bg-white rounded-[32px] p-6 max-w-4xl w-full shadow-2xl transform scale-95 -translate-y-12 transition-all duration-300 relative flex flex-col max-h-[90vh]"
            id="themeModalContent">

            <button onclick="closeThemeModal()"
                class="absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center transition-colors z-10">
                <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>

            <!-- Hidden Header
            <div class="text-center mb-8 flex-shrink-0">
                <h2 class="text-3xl font-black text-gray-800 mb-2">Ch·ªçn Ch·ªß ƒêi·ªÉm</h2>
                <p class="text-gray-500 font-medium">Kh√°m ph√° kho t√†ng ki·∫øn th·ª©c theo t·ª´ng ch·ªß ƒë·ªÅ th√∫ v·ªã</p>
            </div>
            -->

            <div class="overflow-y-auto custom-scrollbar p-2 mt-4">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <!-- Theme 1 -->
                    <a href="cd1-the-gioi-tuoi-tho.html"
                        class="group relative overflow-hidden bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-4 border border-blue-200 hover:shadow-lg hover:shadow-blue-200 hover:-translate-y-1 transition-all duration-300">
                        <div
                            class="w-10 h-10 bg-white rounded-xl flex items-center justify-center text-2xl shadow-sm mb-3 group-hover:scale-110 transition-transform">
                            ü™Å</div>
                        <h3 class="text-base font-black text-blue-900 mb-1 leading-tight">Th·∫ø Gi·ªõi Tu·ªïi Th∆°</h3>
                        <p class="text-[10px] font-bold text-blue-500 uppercase tracking-wider">Ch·ªß ƒëi·ªÉm 1</p>
                    </a>

                    <!-- Theme 2 -->
                    <a href="cd2-thien-nhien-ki-thu.html"
                        class="group relative overflow-hidden bg-gradient-to-br from-green-50 to-emerald-100 rounded-2xl p-4 border border-green-200 hover:shadow-lg hover:shadow-green-200 hover:-translate-y-1 transition-all duration-300">
                        <div
                            class="w-10 h-10 bg-white rounded-xl flex items-center justify-center text-2xl shadow-sm mb-3 group-hover:scale-110 transition-transform">
                            üåø</div>
                        <h3 class="text-base font-black text-green-900 mb-1 leading-tight">Thi√™n Nhi√™n K√¨ Th√∫</h3>
                        <p class="text-[10px] font-bold text-green-500 uppercase tracking-wider">Ch·ªß ƒëi·ªÉm 2</p>
                    </a>

                    <!-- Theme 3 -->
                    <a href="cd3-tren-con-duong-hoc-tap.html"
                        class="group relative overflow-hidden bg-gradient-to-br from-amber-50 to-orange-100 rounded-2xl p-4 border border-amber-200 hover:shadow-lg hover:shadow-amber-200 hover:-translate-y-1 transition-all duration-300">
                        <div
                            class="w-10 h-10 bg-white rounded-xl flex items-center justify-center text-2xl shadow-sm mb-3 group-hover:scale-110 transition-transform">
                            üìö</div>
                        <h3 class="text-base font-black text-amber-900 mb-1 leading-tight">Tr√™n Con ƒê∆∞·ªùng H·ªçc T·∫≠p</h3>
                        <p class="text-[10px] font-bold text-amber-500 uppercase tracking-wider">Ch·ªß ƒëi·ªÉm 3</p>
                    </a>

                    <!-- Theme 4 -->
                    <a href="cd4-nghe-thuat-muon-mau.html"
                        class="group relative overflow-hidden bg-gradient-to-br from-purple-50 to-fuchsia-100 rounded-2xl p-4 border border-purple-200 hover:shadow-lg hover:shadow-purple-200 hover:-translate-y-1 transition-all duration-300">
                        <div
                            class="w-10 h-10 bg-white rounded-xl flex items-center justify-center text-2xl shadow-sm mb-3 group-hover:scale-110 transition-transform">
                            üé®</div>
                        <h3 class="text-base font-black text-purple-900 mb-1 leading-tight">Ngh·ªá Thu·∫≠t Mu√¥n M√†u</h3>
                        <p class="text-[10px] font-bold text-purple-500 uppercase tracking-wider">Ch·ªß ƒëi·ªÉm 4</p>
                    </a>

                    <!-- Theme 5 -->
                    <a href="cd5-ve-dep-cuoc-song.html"
                        class="group relative overflow-hidden bg-gradient-to-br from-pink-50 to-rose-100 rounded-2xl p-4 border border-pink-200 hover:shadow-lg hover:shadow-pink-200 hover:-translate-y-1 transition-all duration-300">
                        <div
                            class="w-10 h-10 bg-white rounded-xl flex items-center justify-center text-2xl shadow-sm mb-3 group-hover:scale-110 transition-transform">
                            üíê</div>
                        <h3 class="text-base font-black text-pink-900 mb-1 leading-tight">V·∫ª ƒê·∫πp Cu·ªôc S·ªëng</h3>
                        <p class="text-[10px] font-bold text-pink-500 uppercase tracking-wider">Ch·ªß ƒëi·ªÉm 5</p>
                    </a>

                    <!-- Theme 6 -->
                    <a href="cd6-huong-sac-tram-mien.html"
                        class="group relative overflow-hidden bg-gradient-to-br from-teal-50 to-cyan-100 rounded-2xl p-4 border border-teal-200 hover:shadow-lg hover:shadow-teal-200 hover:-translate-y-1 transition-all duration-300">
                        <div
                            class="w-10 h-10 bg-white rounded-xl flex items-center justify-center text-2xl shadow-sm mb-3 group-hover:scale-110 transition-transform">
                            üåè</div>
                        <h3 class="text-base font-black text-teal-900 mb-1 leading-tight">H∆∞∆°ng S·∫Øc TrƒÉm Mi·ªÅn</h3>
                        <p class="text-[10px] font-bold text-teal-500 uppercase tracking-wider">Ch·ªß ƒëi·ªÉm 6</p>
                    </a>

                    <!-- Theme 7 -->
                    <a href="cd7-tiep-buoc-cha-ong.html"
                        class="group relative overflow-hidden bg-gradient-to-br from-red-50 to-orange-100 rounded-2xl p-4 border border-red-200 hover:shadow-lg hover:shadow-red-200 hover:-translate-y-1 transition-all duration-300">
                        <div
                            class="w-10 h-10 bg-white rounded-xl flex items-center justify-center text-2xl shadow-sm mb-3 group-hover:scale-110 transition-transform">
                            üî•</div>
                        <h3 class="text-base font-black text-red-900 mb-1 leading-tight">Ti·∫øp B∆∞·ªõc Cha √îng</h3>
                        <p class="text-[10px] font-bold text-red-500 uppercase tracking-wider">Ch·ªß ƒëi·ªÉm 7</p>
                    </a>

                    <!-- Theme 8 -->
                    <a href="cd8-the-gioi-cua-chung-ta.html"
                        class="group relative overflow-hidden bg-gradient-to-br from-indigo-50 to-violet-100 rounded-2xl p-4 border border-indigo-200 hover:shadow-lg hover:shadow-indigo-200 hover:-translate-y-1 transition-all duration-300">
                        <div
                            class="w-10 h-10 bg-white rounded-xl flex items-center justify-center text-2xl shadow-sm mb-3 group-hover:scale-110 transition-transform">
                            ü§ù</div>
                        <h3 class="text-base font-black text-indigo-900 mb-1 leading-tight">Th·∫ø Gi·ªõi C·ªßa Ch√∫ng Ta</h3>
                        <p class="text-[10px] font-bold text-indigo-500 uppercase tracking-wider">Ch·ªß ƒëi·ªÉm 8</p>
                    </a>
                </div> <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3">
                    </path>
                </svg>
            </div>
            </a>
        </div>
    </div>
    </div>
    </div>

    <!-- Review Selection Modal -->
    <div id="reviewModal"
        class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] hidden items-center justify-center p-4 transition-opacity duration-300 opacity-0 pointer-events-none">
        <div class="bg-white rounded-[32px] p-6 max-w-4xl w-full shadow-2xl transform scale-95 -translate-y-12 transition-all duration-300 relative flex flex-col"
            id="reviewModalContent">

            <button onclick="closeReviewModal()"
                class="absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center transition-colors z-10">
                <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>

            <!-- Hidden Header
            <div class="text-center mb-10 flex-shrink-0">
                <h2 class="text-3xl font-black text-gray-800 mb-2">G√≥c √în T·∫≠p</h2>
                <p class="text-gray-500 font-medium">H·ªá th·ªëng l·∫°i ki·∫øn th·ª©c v√† chu·∫©n b·ªã cho c√°c k·ª≥ thi</p>
            </div>
            -->

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6">
                <!-- Mid Term 1 -->
                <a href="on-tap-hk1-giua.html"
                    class="group relative overflow-hidden bg-gradient-to-br from-amber-50 to-orange-100 rounded-3xl p-8 border border-amber-200 hover:shadow-xl hover:shadow-amber-200 hover:-translate-y-1 transition-all duration-300 flex items-center gap-6">
                    <div
                        class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-3xl shadow-sm group-hover:scale-110 transition-transform flex-shrink-0">
                        üçÇ</div>
                    <div>
                        <h3 class="text-xl font-black text-amber-900 mb-1 leading-tight">Gi·ªØa K·ª≥ 1</h3>
                        <p class="text-xs font-bold text-amber-500 uppercase tracking-wider">√în t·∫≠p 8 tu·∫ßn ƒë·∫ßu</p>
                    </div>
                </a>

                <!-- End Term 1 -->
                <a href="on-tap-hk1-cuoi.html"
                    class="group relative overflow-hidden bg-gradient-to-br from-blue-50 to-cyan-100 rounded-3xl p-8 border border-blue-200 hover:shadow-xl hover:shadow-blue-200 hover:-translate-y-1 transition-all duration-300 flex items-center gap-6">
                    <div
                        class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-3xl shadow-sm group-hover:scale-110 transition-transform flex-shrink-0">
                        ‚ùÑÔ∏è</div>
                    <div>
                        <h3 class="text-xl font-black text-blue-900 mb-1 leading-tight">Cu·ªëi K·ª≥ 1</h3>
                        <p class="text-xs font-bold text-blue-500 uppercase tracking-wider">T·ªïng k·∫øt H·ªçc k·ª≥ 1</p>
                    </div>
                </a>

                <!-- Mid Term 2 -->
                <a href="on-tap-hk2-giua.html"
                    class="group relative overflow-hidden bg-gradient-to-br from-green-50 to-emerald-100 rounded-3xl p-8 border border-green-200 hover:shadow-xl hover:shadow-green-200 hover:-translate-y-1 transition-all duration-300 flex items-center gap-6">
                    <div
                        class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-3xl shadow-sm group-hover:scale-110 transition-transform flex-shrink-0">
                        üå±</div>
                    <div>
                        <h3 class="text-xl font-black text-green-900 mb-1 leading-tight">Gi·ªØa K·ª≥ 2</h3>
                        <p class="text-xs font-bold text-green-500 uppercase tracking-wider">√în t·∫≠p gi·ªØa HK2</p>
                    </div>
                </a>

                <!-- End Year -->
                <a href="on-tap-hk2-cuoi.html"
                    class="group relative overflow-hidden bg-gradient-to-br from-red-50 to-rose-100 rounded-3xl p-8 border border-red-200 hover:shadow-xl hover:shadow-red-200 hover:-translate-y-1 transition-all duration-300 flex items-center gap-6">
                    <div
                        class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-3xl shadow-sm group-hover:scale-110 transition-transform flex-shrink-0">
                        üèÜ</div>
                    <div>
                        <h3 class="text-xl font-black text-red-900 mb-1 leading-tight">Cu·ªëi NƒÉm</h3>
                        <p class="text-xs font-bold text-red-500 uppercase tracking-wider">T·ªïng k·∫øt nƒÉm h·ªçc</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- Week Lessons Modal -->
    <div id="weekMenuModal"
        class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[110] hidden items-center justify-center p-4 transition-all duration-300 opacity-0 pointer-events-none">
        <div class="bg-white rounded-[32px] p-8 max-w-2xl w-full shadow-2xl transform scale-95 transition-all duration-300 relative border-4 border-blue-500 flex flex-col max-h-[90vh]"
            id="weekMenuContent">
            <button onclick="closeWeekMenuModal()"
                class="absolute -top-4 -right-4 w-10 h-10 bg-white text-blue-600 border-4 border-blue-500 rounded-full flex items-center justify-center shadow-lg hover:bg-blue-50 transition-colors z-10 font-bold">
                ‚úï
            </button>
            <div id="week-title-display" class="mb-6 text-center">
                <h3 class="text-2xl font-black text-gray-800">Tu·∫ßn ??</h3>
                <p class="text-blue-600 font-bold uppercase text-xs tracking-widest mt-1" id="semester-display">H·ªçc k·ª≥ ?
                </p>
            </div>
            <div id="week-lessons-list"
                class="grid grid-cols-1 md:grid-cols-2 gap-4 overflow-y-auto custom-scrollbar pr-2">
                <!-- Lessons will be injected here -->
            </div>
        </div>
    </div>

    <script>
        function openWeekMenuModal(weekId) {
            const modal = document.getElementById('weekMenuModal');
            const content = document.getElementById('weekMenuContent');
            const weekTitle = document.getElementById('week-title-display').querySelector('h3');
            const semesterDisplay = document.getElementById('semester-display');
            const lessonsList = document.getElementById('week-lessons-list');

            // Find week data from curriculumData
            let weekData = null;
            let currentSemester = "";
            for (const sem in curriculumData) {
                for (const theme of curriculumData[sem]) {
                    weekData = theme.weeks.find(w => w.id === weekId);
                    if (weekData) {
                        currentSemester = sem;
                        break;
                    }
                }
                if (weekData) break;
            }

            if (!weekData) {
                // For Backup button or if data not found
                weekTitle.innerText = weekId === 36 ? "D·ª± ph√≤ng" : `Tu·∫ßn ${weekId}`;
                semesterDisplay.innerText = "ƒêang c·∫≠p nh·∫≠t";
                lessonsList.innerHTML = `<p class="text-center text-gray-400 py-4 italic">N·ªôi dung ƒëang ƒë∆∞·ª£c so·∫°n th·∫£o...</p>`;
            } else {
                weekTitle.innerText = `Tu·∫ßn ${weekId}`;
                semesterDisplay.innerText = currentSemester;
                lessonsList.innerHTML = '';

                weekData.lessons.forEach(lesson => {
                    const lessonContainer = document.createElement('div');
                    lessonContainer.className = "flex flex-col gap-2 p-4 rounded-2xl bg-blue-50/50 border-2 border-blue-100";

                    const lessonHeader = document.createElement('div');
                    lessonHeader.className = "font-black text-blue-900 text-sm mb-2 pb-2 border-b border-blue-100 flex items-center gap-2";
                    lessonHeader.innerHTML = `<span>üìñ</span> ${lesson.title}`;
                    lessonContainer.appendChild(lessonHeader);

                    const sections = lesson.sections || [{ title: "V√†o b√†i h·ªçc", url: lesson.url || "#" }];
                    sections.forEach(section => {
                        const sectionLink = document.createElement('a');
                        sectionLink.href = section.url;
                        sectionLink.className = "flex items-center justify-between p-2 rounded-xl bg-white border border-blue-50 hover:border-blue-300 hover:shadow-sm transition-all text-xs font-bold text-gray-700 group";

                        // Split title to highlight the part before ':'
                        const parts = section.title.split(':');
                        const displayTitle = parts.length > 1
                            ? `<span class="text-blue-600 mr-1">${parts[0]}:</span><span>${parts.slice(1).join(':')}</span>`
                            : section.title;

                        sectionLink.innerHTML = `
                            <span class="flex-1">${displayTitle}</span>
                            <span class="text-blue-300 group-hover:translate-x-1 transition-transform ml-2">‚Üí</span>
                        `;

                        if (section.url === "#") {
                            sectionLink.classList.add('opacity-50', 'cursor-not-allowed');
                            sectionLink.onclick = (e) => e.preventDefault();
                        }

                        lessonContainer.appendChild(sectionLink);
                    });

                    lessonsList.appendChild(lessonContainer);
                });
            }

            modal.classList.remove('hidden');
            void modal.offsetWidth;
            modal.classList.remove('opacity-0', 'pointer-events-none');
            modal.classList.add('flex', 'opacity-100', 'pointer-events-auto');
            content.classList.remove('scale-95');
            content.classList.add('scale-100');
        }

        function closeWeekMenuModal() {
            const modal = document.getElementById('weekMenuModal');
            const content = document.getElementById('weekMenuContent');
            modal.classList.remove('opacity-100', 'pointer-events-auto');
            modal.classList.add('opacity-0', 'pointer-events-none');
            content.classList.remove('scale-100');
            content.classList.add('scale-95');
            setTimeout(() => {
                modal.classList.remove('flex');
                modal.classList.add('hidden');
            }, 300);
        }

        function generateNumpad() {
            const grid = document.getElementById('week-numpad-grid');
            if (!grid) return;

            for (let i = 1; i <= 36; i++) {
                const btn = document.createElement('button');
                const label = i === 36 ? "DP" : i;

                // Style based on semester (1-18: Sem 1, 19-35: Sem 2)
                let bgColor = "from-blue-500 to-blue-600 shadow-blue-200";
                if (i > 18 && i < 36) bgColor = "from-orange-500 to-orange-600 shadow-orange-200";
                if (i === 36) bgColor = "from-gray-500 to-gray-600 shadow-gray-200";

                btn.className = `aspect-square rounded-xl bg-gradient-to-br ${bgColor} text-white font-black text-sm shadow-md transition-all active:scale-90 hover:-translate-y-0.5 hover:brightness-110`;
                btn.innerText = label;
                btn.onclick = () => openWeekMenuModal(i);
                grid.appendChild(btn);
            }
        }

        // Initialize numpad on load
        window.addEventListener('DOMContentLoaded', generateNumpad);

        // Close on outside click for Week Menu
        document.getElementById('weekMenuModal').addEventListener('click', function (e) {
            if (e.target === this) closeWeekMenuModal();
        });

    </script>

    <!-- Scripts -->
    <script src="js/floating-menu.js"></script>
    <script src="js/rss-loader.js"></script>
    <script>
        // Simple mock for the Teacher Stats button on homepage to avoid errors if clicked
        function openTeacherStats() {
            // Check if floating-menu.js is loaded mostly used for lessons, 
            // but for index we might just show a simple alert or reuse the modal structure
            const modal = document.getElementById('statsModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }
    </script>
</body>

</html>